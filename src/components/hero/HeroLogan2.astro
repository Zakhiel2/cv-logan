---
import { getRelativeLocaleUrl } from "astro:i18n";
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";

// components
import Button from "@components/button/Button.astro";

// utils
import { getLocaleFromUrl } from "@js/localeUtils";
import { useTranslations } from "@js/translationUtils";

const currLocale = getLocaleFromUrl(Astro.url);
const t = useTranslations(currLocale);

import heroImage from "@/assets/images/me.png";
---

<section
	id="hero-side-image"
	class="dark:bg-background bg-base-100 text-foreground relative flex min-h-[100svh] items-center overflow-hidden"
>
	<!-- Background Elements -->
	<div class="absolute inset-0 scale-125 rotate-174" aria-hidden="true">
		<svg class="absolute h-full w-full opacity-5" xmlns="http://www.w3.org/2000/svg">
			<defs>
				<pattern id="contact-grid" width="60" height="60" patternUnits="userSpaceOnUse">
					<path d="M 60 0 L 0 0 0 60" fill="none" stroke="currentColor" stroke-width="1.5"></path>
				</pattern>
			</defs>
			<rect width="100%" height="100%" fill="url(#contact-grid)"></rect>
		</svg>
	</div>

	<!-- Animated Background Elements -->
	<div class="absolute inset-0 overflow-hidden" aria-hidden="true">
		<div class="absolute inset-0 opacity-30">
			<div
				class="hidden lg:block animate-blob bg-primary/50 dark:bg-white/80 absolute top-0 -left-4 h-72 w-72 rounded-full mix-blend-multiply blur-xl"
			>
			</div>
			<div
				class="hidden lg:block animation-delay-2000 animate-blob absolute top-0 -right-4 h-72 w-72 rounded-full bg-purple-300 dark:bg-white/80 mix-blend-multiply blur-xl"
			>
			</div>
			<div
				class="hidden lg:block animation-delay-4000 animate-blob absolute -bottom-8 left-20 h-72 w-72 rounded-full bg-pink-300 dark:bg-white/80 mix-blend-multiply blur-xl"
			>
			</div>
			<!-- from-primary/50 to-primary-300/50 -->
		</div>
		</div>

    
	<div class="site-container relative h-full">
		<div class="grid h-full items-center gap-12 py-24 lg:grid-cols-12 max-lg:text-center max-md:mt-5 max-lg:mt-10">
			<!-- Left Content -->
			<div class="space-y-8 lg:col-span-6">
				<h1
					class="font-heading text-foreground/90 text-4xl leading-tight sm:text-5xl md:text-6xl"
					data-aos="fade-right"
					data-aos-trigger="#hero-side-image"
				>
					<span
						class="from-primary/80 dark:from-primary to-foreground bg-gradient-to-r bg-clip-text text-transparent"
					>
					{t("hero_text")}
					</span>
				</h1>

				<p
					class="description text-xl leading-relaxed opacity-80"
					data-aos="fade-right"
					data-aos-delay="0.2"
					data-aos-trigger="#hero-side-image"
				>
					{t("hero_description")}
				</p>

				<div
					class="p-2 flex max-lg:items-center max-lg:justify-center gap-4 sm:flex-row"
					data-aos="fade-right"
					data-aos-delay="0.4"
					data-aos-trigger="#hero-side-image"
				>
				
					<Button href={t("link_cv")} target="_blank"> {t("view_cv")} <Icon name="tabler/address-book" aria-hidden="true" class="hidden sm:block size-5 ml-2" /></Button>
					<!-- <Button href={getRelativeLocaleUrl(currLocale, `/contact`)} variant="ghost"> -->
                    
					<Button href="#contact" variant="secondary">
					<!-- <Button href="#contact" class="dark:bg-white dark:text-black dark:hover:text-white dark:hover:bg-blue-500 focus:bg-blue-500 bg-black hover:bg-black/70"> -->
						{t("contact_me")} <Icon name="tabler/mail" aria-hidden="true" class="hidden sm:block size-5 ml-2" />
					</Button>
                    
				</div>
			</div>

			<!-- Right Content -->
			<div class="relative lg:col-span-6">
				<div class="relative mx-auto aspect-square max-w-2xl">
					<!-- Geometric Overlay -->
					<div
						class="from-primary/50 dark:from-white/60 absolute inset-0 rounded-full bg-gradient-to-br to-transparent blur-3xl animate-pulse"
					>
					</div>

					<!-- Main Image Container -->
					<div class="relative h-full">
						<!-- <div class="absolute inset-0 bg-gradient-to-t from-background/80 to-transparent z-10"></div> -->
						<div class="animate-float h-full overflow-hidden rounded-2xl">
							<Image
								src={heroImage}
								alt="Creative workspace showcasing design and development environment"
								class="z-10 h-full w-full object-cover"
								quality={90}
								format="webp"
								loading="eager"
							/>
						</div>
					</div>

					<!-- Decorative Element -->
					<div
						class="hidden lg:block bg-primary/20 dark:bg-white/20 absolute -bottom-4 -left-4 h-32 w-32 rounded-full blur-xl"
					>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
